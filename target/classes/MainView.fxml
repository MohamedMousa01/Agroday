<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.grafico.MainGUIController"
            style="-fx-background-color: #f4f4f4;" prefWidth="1000" prefHeight="700">

    <!-- TOP: barra superiore con titolo e logout -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: #2c3e50; -fx-padding: 15;">
            <Label text="Agroday - Gestione Annunci" style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;" />

            <Region HBox.hgrow="ALWAYS"/> <!-- Spacer per spingere Logout a destra -->

            <Label fx:id="welcomeLabel" style="-fx-text-fill: white; -fx-font-size: 14px;" text="Benvenuto!" />

            <Button text="Logout"
                    fx:id="logoutButton"
                    onAction="#handleLogout"
                    style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-padding: 5 15; -fx-font-size: 12px;"/>
        </HBox>
    </top>

    <!-- LEFT: menu di navigazione -->
    <left>
        <VBox spacing="10" style="-fx-background-color: #ecf0f1; -fx-padding: 15;" prefWidth="200">
            <Button text="âž• Crea Nuovo Annuncio"
                    fx:id="creaAnnuncioButton"
                    onAction="#showCreaAnnuncio"
                    maxWidth="Infinity"
                    style="-fx-background-color: #28a745; -fx-text-fill: white; -fx-padding: 10 0; -fx-font-size: 14px;"/>

            <Button text="ðŸ” Cerca Annunci"
                    fx:id="cercaAnnunciButton"
                    onAction="#showCercaAnnunci"
                    maxWidth="Infinity"
                    style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-padding: 10 0; -fx-font-size: 14px;"/>

            <Button text="ðŸ“‹ I Miei Annunci"
                    fx:id="mieiAnnunciButton"
                    onAction="#showMieiAnnunci"
                    maxWidth="Infinity"
                    style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-padding: 10 0; -fx-font-size: 14px;"/>
        </VBox>
    </left>

    <!-- CENTER: area per il contenuto dinamico -->
    <center>
        <StackPane fx:id="contentPane" style="-fx-padding: 20;">
            <!-- Contenuto iniziale: elenco annunci con scroll verticale -->
            <VBox spacing="10">
                <Label text="Annunci disponibili"
                       style="-fx-font-size: 16px; -fx-font-weight: bold;" />

                <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS">
                    <content>
                        <VBox fx:id="annunciListContainer" spacing="10" style="-fx-padding: 5;">
                            <!-- Placeholder per un singolo annuncio (questi HBox verranno generati dinamicamente) -->
                            <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: white; -fx-border-color: #ddd; -fx-border-radius: 5; -fx-padding: 10;">
                                <Label text="Titolo Annuncio Esempio" style="-fx-font-size: 14px; -fx-font-weight: bold;" HBox.hgrow="ALWAYS"/>
                                <Label text="Categoria: Prodotti Ortofrutticoli" style="-fx-font-size: 12px; -fx-text-fill: #555;"/>
                                <Label text="Prezzo: 10â‚¬" style="-fx-font-size: 12px; -fx-text-fill: #007bff;"/>
                                <Label text="Autore: Mario Rossi" style="-fx-font-size: 12px; -fx-text-fill: #777;"/>
                            </HBox>
                            <!-- Altri annunci verranno aggiunti qui dinamicamente dal controller -->
                        </VBox>
                    </content>
                </ScrollPane>
            </VBox>
        </StackPane>
    </center>

</BorderPane>